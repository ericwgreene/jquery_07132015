<!DOCTYPE html>

<html>

	<head>
		<title>Welcome to jQuery!</title>
		<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
	</head>

	<body>

		<table>
			<thead>
				<tr>
						<th>Name</th>
						<th>Capital</th>
						<th>Colors</th>
						<th>Action</th>
				</tr>
			</thead>
			<tbody>

			</tbody>
		</table>


		<script src="libs/jquery/dist/jquery.js"></script>
		<script>

			$(function() {

				var countries = [
					{ name: "Iran", capital: "Tehran", colors: ["green","white","red"] },
					{ name: "India", capital: "New Delhi", colors: ["green","white","saffron"] },
					{ name: "United States", capital: "Washington", colors: ["red","white","blue"] },
					{ name: "China", capital: "Beijing", colors: ["red","yellow"] },
					{ name: "United Kingdom", capital: "London", colors: ["red","white","blue"] },
					{ name: "Ecuador", capital: "Quito", colors: ["red","blue","yellow"] },
				]

				var tBody = $("tbody");

				countries.forEach(function(country, index) {

					var tdName = $("<td></td>");
					var tdCapital = $("<td></td>");
					var tdColors = $("<td></td>");
					var tdAction = $("<td></td>");
					var editButton = $("<button>Edit</button>");

					editButton.on("click", function(e) {

						$(e.target).closest("tr").find("td:lt(3)").each(function(index, element) {

							var value = $(element).text();
							$(element).empty().append($("<input value='" + value + "'>"));

						});
					});

					tdAction.append(editButton);

					tdName.text(country.name);
					tdCapital.text(country.capital);
					tdColors.text(country.colors.join(", "));

					var trCountry = $("<tr></tr>");
					trCountry.append(tdName).append(tdCapital).append(tdColors).append(tdAction);

					tBody.append(trCountry);

				});

			});

		</script>
	</body>

</html>
